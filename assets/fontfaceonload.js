!function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.FontFaceOnload=e()}(this,function(){"use strict";var t={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal",window:window},e=["display:block","position:absolute","top:-999px","left:-999px","font-size:48px","width:auto","height:auto","line-height:normal","margin:0","padding:0","font-variant:normal","white-space:nowrap"],i='<div style="%s" aria-hidden="true">AxmTYklsjo190QW</div>',n=function(){this.fontFamily="",this.appended=!1,this.serif=void 0,this.sansSerif=void 0,this.parent=void 0,this.options={}};return n.prototype.getMeasurements=function(){return{sansSerif:{width:this.sansSerif.offsetWidth,height:this.sansSerif.offsetHeight},serif:{width:this.serif.offsetWidth,height:this.serif.offsetHeight}}},n.prototype.load=function(){function t(t){return e.concat(["font-weight:"+d.weight,"font-style:"+d.style]).concat("font-family:"+t).join(";")}function n(t,e,i){return Math.abs(t.width-e.offsetWidth)>i||Math.abs(t.height-e.offsetHeight)>i}function o(){return(new Date).getTime()-r.getTime()>d.timeout}var s,r=new Date,a=this,f=a.serif,c=a.sansSerif,h=a.parent,l=a.appended,d=a.options,p=d.reference,u=i.replace(/\%s/,t("sans-serif")),m=i.replace(/\%s/,t("serif"));h||(h=a.parent=d.window.document.createElement("div")),h.innerHTML=u+m,c=a.sansSerif=h.firstChild,f=a.serif=c.nextSibling,d.glyphs&&(c.innerHTML+=d.glyphs,f.innerHTML+=d.glyphs),function t(){p||(p=d.window.document.body),!l&&p&&(p.appendChild(h),l=a.appended=!0,s=a.getMeasurements(),c.style.fontFamily=a.fontFamily+", sans-serif",f.style.fontFamily=a.fontFamily+", serif"),l&&s&&(n(s.sansSerif,c,d.tolerance)||n(s.serif,f,d.tolerance))?d.success():o()?d.error():!l&&"requestAnimationFrame"in d.window?d.window.requestAnimationFrame(t):d.window.setTimeout(t,d.delay)}()},n.prototype.cleanFamilyName=function(t){return t.replace(/[\'\"]/g,"").toLowerCase()},n.prototype.cleanWeight=function(t){return""+({normal:"400",bold:"700"}[t]||t)},n.prototype.checkFontFaces=function(t){var e=this;e.options.window.document.fonts.forEach(function(i){e.cleanFamilyName(i.family)===e.cleanFamilyName(e.fontFamily)&&e.cleanWeight(i.weight)===e.cleanWeight(e.options.weight)&&i.style===e.options.style&&i.load().then(function(){e.options.success(i),e.options.window.clearTimeout(t)})})},n.prototype.init=function(e,i){var n;for(var o in t)i.hasOwnProperty(o)||(i[o]=t[o]);this.options=i,this.fontFamily=e,!i.glyphs&&"fonts"in i.window.document?(i.timeout&&(n=i.window.setTimeout(function(){i.error()},i.timeout)),this.checkFontFaces(n)):this.load()},function(t,e){var i=new n;return i.init(t,e),i}});